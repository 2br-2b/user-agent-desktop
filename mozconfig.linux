# ac_add_options --enable-application=browser
# # ac_add_options --enable-signmar
# ac_add_options --with-branding=browser/branding/cliqz
# ac_add_options --enable-official-branding
# ac_add_options --with-app-name=cliqz  # name for binaries
# ac_add_options --enable-crashreporter
# ac_add_options --enable-js-shell
# ac_add_options --enable-update-channel=${MOZ_UPDATE_CHANNEL}
ac_add_options --enable-release
# ac_add_options --enable-rust-simd
# ac_add_options --with-mozilla-api-keyfile=$ROOT_PATH/mozilla-desktop-geoloc-api.key
# ac_add_options --with-google-safebrowsing-api-keyfile=$ROOT_PATH/google-desktop-api.key
#
# export MOZ_APP_PROFILE=CLIQZ

# TODO - remove for release builds?
# https://firefox-source-docs.mozilla.org/contributing/build/artifact_builds.html#understanding-artifact-builds
# ac_add_options --enable-artifact-builds
# mk_add_options MOZ_OBJDIR=./objdir-frontend

ac_add_options --enable-application=browser

ac_add_options --prefix=/usr

# NOTE: Let's keep it simple for now.
# ac_add_options --enable-release
# ac_add_options --enable-hardening
# ac_add_options --enable-optimize
# ac_add_options --enable-rust-simd

export CC='clang-10 --target=x86_64-unknown-linux-gnu'
export CXX='clang++-10 --target=x86_64-unknown-linux-gnu'
export AR=llvm-ar-10
export NM=llvm-nm-10
export RANLIB=llvm-ranlib-10

# Branding
ac_add_options --enable-official-branding
ac_add_options --enable-update-channel=release
# ac_add_options --with-distribution-id=org.archlinux
ac_add_options --with-unsigned-addon-scopes=app,system
ac_add_options --allow-addon-sideload
export MOZILLA_OFFICIAL=1
# export MOZ_APP_REMOTINGNAME=${pkgname//-/}
export MOZ_TELEMETRY_REPORTING=1
export MOZ_REQUIRE_SIGNING=1

# Keys
# ac_add_options --with-google-location-service-api-keyfile=${PWD@Q}/google-api-key
# ac_add_options --with-google-safebrowsing-api-keyfile=${PWD@Q}/google-api-key
# ac_add_options --with-mozilla-api-keyfile=${PWD@Q}/mozilla-api-key

# System libraries
# ac_add_options --with-system-nspr
# ac_add_options --with-system-nss

# Features
ac_add_options --enable-alsa
ac_add_options --enable-jack
ac_add_options --enable-crashreporter
ac_add_options --disable-updater
ac_add_options --disable-tests
